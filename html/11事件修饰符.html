<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>事件修饰符</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<body>
	
	<div id="example-1">
		<div @click="wrapClick">
			<button @click.stop="btnClick"><span>btnClick</span></button>
		</div>

		<div @click="wrapClick">
			<p>self：点击span不会触发btnClick事件，触发wrapClick</p>
			<button @click.self="btnClick"><span>btnClick</span></button>
		</div>

		<div @click="wrapClick">
			<!-- self -->
			<!-- 只当在 event.target 是当前元素自身时触发处理函数 -->
			<!-- 即事件不是从内部元素触发的 -->
			<p>stop和self：点击span不会触发btnClick、wrapClick事件</p>
			<button @click.stop.self="btnClick"><span>btnClick</span></button>
		</div>


		<form @submit.prevent="formSubmitFn">
			<p>阻止默认事件: </p>
			<input type="text" name="form1">
			<button type="submit">form提交</button>
		</form>


		<!-- 按键修饰符 -->
		<p>enter: </p>
		<input type="text" @keyup.enter="keyupEnterFn('enter')" name="">

		<p>tab: </p>
		<input type="text" @keyup.tab="keyupEnterFn('tab')" name="">

		<p>delete: </p>
		<input type="text" @keyup.delete="keyupEnterFn('delete')" name="">

		<p>esc: </p>
		<input type="text" @keyup.esc="keyupEnterFn('esc')" name="">

		<p>space: </p>
		<input type="text" @keyup.space="keyupEnterFn('space')" name="">

		<p>up: </p>
		<input type="text" @keyup.up="keyupEnterFn('up')" name="">

		<p>down: </p>
		<input type="text" @keyup.down="keyupEnterFn('down')" name="">

		<p>left: </p>
		<input type="text" @keyup.left="keyupEnterFn('left')" name="">

		<p>right: </p>
		<input type="text" @keyup.right="keyupEnterFn('right')" name="">

	</div>	

    
</body>
<script type="text/javascript" src="../js/vue.js"></script>
<script>	

	// methods 只有纯粹的数据逻辑，而不是去处理 DOM 事件细节。
	/*
	为了解决这个问题， Vue.js 为 v-on 提供了 事件修饰符。通过由点(.)表示的指令后缀来调用修饰符。
	.stop
	.prevent
	.capture
	.self
	.once

	<!-- 阻止单击事件冒泡 -->
	<a v-on:click.stop="doThis"></a>
	<!-- 提交事件不再重载页面 -->
	<form v-on:submit.prevent="onSubmit"></form>
	<!-- 修饰符可以串联  -->
	<a v-on:click.stop.prevent="doThat"></a>
	<!-- 只有修饰符 -->
	<form v-on:submit.prevent></form>
	<!-- 添加事件侦听器时使用事件捕获模式 -->
	<div v-on:click.capture="doThis">...</div>
	<!-- 只当事件在该元素本身（而不是子元素）触发时触发回调 -->
	<div v-on:click.self="doThat">...</div>


	使用修饰符时，顺序很重要；相应的代码会以同样的顺序产生。因此，用 v-on:click.prevent.self 会阻止所有的点击，而 v-on:click.self.prevent 只会阻止对元素自身的点击。


	2.1.4 新增
	<!-- 点击事件将只会触发一次 -->
	<a v-on:click.once="doThis"></a>
	
	*/ 

	var vm1 = new Vue({
		el: '#example-1',
		data: {
		},
		methods: {
			wrapClick() {
				console.log('wrapClick');
			},
			btnClick() {
				console.log('btnClick');
			},
			formSubmitFn() {
				console.log('formSubmitFn');
			},
			keyupEnterFn(arg) {
				console.log(arg);
			}
		}
	});





</script>
</html>